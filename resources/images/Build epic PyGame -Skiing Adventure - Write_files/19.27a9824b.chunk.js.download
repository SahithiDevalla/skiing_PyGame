(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{1087:function(e,t,a){"use strict";a.r(t),a.d(t,"default",function(){return E});var o=a(0),n=a.n(o),r=a(1),s=a(127),l=a(176),c=a(289),u=(a(664),a(118)),d=a(333),i=a(707),p=a(205),g=a(263),m=a.n(g);function _({selectedCodeNodeKey:e,onProceed:t,onClose:a}){const[r,l]=Object(o.useState)([]),{editor:c}=Object(o.useContext)(s.a),[g,_]=Object(o.useState)(!0);return Object(o.useEffect)(()=>{(async()=>{let o=[];const n=(()=>{let t=[];return c.update(()=>{t=e?[Object(u.$getNodeByKey)(e)]:Object(u.$getRoot)().getChildren().filter(e=>Object(p.b)(e))}),t})();0===n.length&&m.a.fire({icon:"info",title:"No Code Block Found",text:"Please add atleast one codeblock to append output"});const r=n.map((e,a)=>{const n=e.getKey(),r=e.getCodeElements();o=[...o,{language:r[0].language,index:o.length}];const s=Object(d.a)(r[0]);return s.then(({response:e,status:r})=>{"noError"===r?t({selectedCodeNodeKey:n,response:e}):o[a]={...o[a],response:e,isError:!0}}),s});await Promise.all(r),_(!1),o=o.filter(e=>e.isError),l(o),0===o.length&&a()})()},[]),n.a.createElement(i.a,{loading:g,isErrorOnly:!0,outputArray:r,onClose:a})}function E({selectedCodeBlockNodeKey:e}){const{isEditable:t,editor:a}=Object(o.useContext)(s.a),[r,u]=Object(l.a)();return n.a.createElement(n.a.Fragment,null,n.a.createElement("button",{disabled:!t,className:"toolbar-item spaced",title:"Append Code",onClick:()=>{u({contentFn:t=>n.a.createElement(_,{onClose:t,selectedCodeNodeKey:e,onProceed:e=>{a.dispatchCommand(c.a,e)}}),size:"md",isFloatingClose:!1,showCloseButton:!1})}},n.a.createElement("i",{className:"editor-icon append-output"})),r)}_.propTypes={selectedCodeNodeKey:r.PropTypes.string,onProceed:r.PropTypes.func,onClose:r.PropTypes.func},E.propTypes={selectedCodeBlockNodeKey:r.PropTypes.string}},333:function(e,t,a){"use strict";var o=a(146),n=a(230),r=a(31),s=a.n(r);const l=o.c.IDE_URL;function c(e){return new Promise(t=>setTimeout(t,e))}t.a=(async e=>{let t;try{if("ERROR"===(t=(t=await s.a.post(`${l}submit-request`,{language:Object(n.c)(e.codeLanguage),code:e.codeSnippet,input:"",save:!1},{withCredentials:!1})).data).status)throw Error(t.message)}catch(r){return{response:(t=r.response)&&t.data.message||r.message,language:e.language,status:"error"}}const{submission_id:a}=t;do{await c(3e3);try{t=await s.a.get(`${l}get-status/${a}`,{withCredentials:!1})}catch(r){return{response:r.message,language:e.language,status:"error"}}t=t.data}while(["IN-QUEUE","in-queue"].includes(t.status));const o=e.language;return""!==t.rntError&&null!=t.rntError?{language:o,response:t.rntError,status:"error"}:""!==t.cmpError&&null!=t.cmpError?{language:o,response:t.cmpError,status:"error"}:"S"===t.compResult?{language:o,response:t.output,status:"noError"}:{language:o,response:t,status:"error"}})},664:function(e,t,a){},707:function(e,t,a){"use strict";a.d(t,"a",function(){return c});var o=a(0),n=a.n(o),r=a(1),s=a.n(r),l=a(337);a(664);function c({outputArray:e=[],isErrorOnly:t=!1,onClose:a,loading:r=!1}){const[s,c]=Object(o.useState)(0),[u,d]=Object(o.useState)(1),i=e=>void 0===e.response?"codeblock-compiling":e.isError?"codeblock-warning":"codeblock-check";return Object(o.useEffect)(()=>{if(0===e.length)return;const t=e.filter(e=>void 0!==e.response).length/e.length*100;t>u&&d(t)},[e]),r?n.a.createElement(l.a,{message:"Compiling.."}):n.a.createElement("div",{className:"OutputModalContent"},n.a.createElement("div",{className:"OutputModalContent__CompletionBar",style:{width:`${u}%`}}),n.a.createElement("div",{className:"OutputModalContent__Body"},n.a.createElement("div",{className:"OutputModalContent__Body__Leftbar"},e.map((e,a)=>n.a.createElement("div",{key:a,className:`OutputModalContent__Body__Leftbar__LanguageBox ${a===s?"active":""}`,onClick:()=>{c(a)}},n.a.createElement("div",{className:"OutputModalContent__Body__Leftbar__LanguageBox__Status"},n.a.createElement("i",{className:`editor-icon ${i(e)}`})),n.a.createElement("div",{className:"OutputModalContent__Body__Leftbar__LanguageBox__Language"},e.language),t&&n.a.createElement("div",{className:"OutputModalContent__Body__Leftbar__LanguageBox__Code"},`in code ${e.index+1}`)))),n.a.createElement("div",{className:"OutputModalContent__Body__Rightbar"},n.a.createElement("div",{className:"OutputModalContent__Body__Rightbar__Header"},t?"Errors in Code":"Response"),n.a.createElement("div",{className:"OutputModalContent__Body__Rightbar__Body"},e[s]&&n.a.createElement("pre",null,void 0===e[s].response?"Compiling...":e[s].response)))),n.a.createElement("div",{className:"Modal__closeButton",onClick:a},"X"))}c.propTypes={outputArray:s.a.array,isErrorOnly:s.a.bool,onClose:s.a.func,loading:s.a.bool}}}]);