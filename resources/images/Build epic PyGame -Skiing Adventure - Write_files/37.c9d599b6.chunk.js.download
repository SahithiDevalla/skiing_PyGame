(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{1056:function(e,t,c){"use strict";c.r(t);var o=c(0),r=c.n(o),a=c(127),n=c(118),s=c(126),i=c(162),l=c(215),d=c(187);t.default=(()=>{const{editor:e,isEditable:t,isPreActive:c,setIsPreActive:f}=Object(o.useContext)(a.a);return r.a.createElement("button",{disabled:!t,className:`toolbar-item spaced ${c?"active":""}`,title:"Insert formatted text",onClick:()=>{e.update(()=>{if(c){f(!1);const e=Object(n.$getSelection)().anchor.getNode(),t=Object(s.$getNearestBlockElementAncestorOrThrow)(e),c=t.getChildren();let o=null,r=!1;for(let a=0;a<c.length;a++){if(Object(n.$isTextNode)(c[a])){const e=Object(n.$createParagraphNode)();e.append(c[a]),o?o.insertAfter(e):t.replace(e),o=e,r=!1}if(Object(n.$isLineBreakNode)(c[a])){const e=Object(n.$createParagraphNode)();r&&(o.insertAfter(e),o=e),r=!0}}o||(o=Object(n.$createParagraphNode)(),t.replace(o)),o.select()}else{const e=Object(n.$getSelection)();let t;if(Object(n.$isRangeSelection)(e)||Object(n.DEPRECATED_$isGridSelection)(e)){if(e.isCollapsed()){const c=e.anchor.getNode();if(Object(n.$isParagraphNode)(c))return c.replace(Object(l.a)()),void f(!0);t=c.getTextContent().split("\n")}else e.isBackward()?(e.anchor.offset=e.anchor.getNode().getTextContent().length,e.focus.offset=0):(e.anchor.offset=0,e.focus.offset=e.focus.getNode().getTextContent().length),t=Object(d.c)(e).split("\n");const c=Object(d.b)(e.anchor.getNode()),o=e.getNodes(),r=Object(l.a)();if(t.forEach((e,c)=>{r.append(Object(n.$createTextNode)(e)),c<t.length-1&&r.append(Object(n.$createLineBreakNode)())}),Object(i.f)(c)){const e=l.d.clone(r);return c.insertAfter(e),o.filter(e=>e!==c).forEach(e=>{e.remove()}),c.remove(),e.select(),!0}return o.filter(e=>e!==c).forEach(e=>{e.remove()}),c.replace(r),r.select(),f(!0),!0}}})}},r.a.createElement("i",{className:"editor-icon pre-block"}))})}}]);