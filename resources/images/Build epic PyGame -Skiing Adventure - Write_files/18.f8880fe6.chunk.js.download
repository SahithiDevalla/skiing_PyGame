(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{1063:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return d});var o=n(0),a=n.n(o),r=n(1),c=n(127),l=n(176),s=n(289),i=n(719);function d({showAddEditCodeModalHandler:e}){const{isEditable:t,editor:n}=Object(o.useContext)(c.a),[r,d]=Object(l.a)();return a.a.createElement(a.a.Fragment,null,a.a.createElement("button",{disabled:!t,className:"toolbar-item spaced",title:"Add Code",onClick:()=>{void 0!==e?e():d({contentFn:e=>a.a.createElement(i.a,{onClose:e,onProceed:e=>{n.dispatchCommand(s.c,e)}}),size:"lg",isFloatingClose:!0})}},a.a.createElement("i",{className:"editor-icon code-block"})),r)}d.propTypes={showAddEditCodeModalHandler:r.PropTypes.func}},333:function(e,t,n){"use strict";var o=n(146),a=n(230),r=n(31),c=n.n(r);const l=o.c.IDE_URL;function s(e){return new Promise(t=>setTimeout(t,e))}t.a=(async e=>{let t;try{if("ERROR"===(t=(t=await c.a.post(`${l}submit-request`,{language:Object(a.c)(e.codeLanguage),code:e.codeSnippet,input:"",save:!1},{withCredentials:!1})).data).status)throw Error(t.message)}catch(r){return{response:(t=r.response)&&t.data.message||r.message,language:e.language,status:"error"}}const{submission_id:n}=t;do{await s(3e3);try{t=await c.a.get(`${l}get-status/${n}`,{withCredentials:!1})}catch(r){return{response:r.message,language:e.language,status:"error"}}t=t.data}while(["IN-QUEUE","in-queue"].includes(t.status));const o=e.language;return""!==t.rntError&&null!=t.rntError?{language:o,response:t.rntError,status:"error"}:""!==t.cmpError&&null!=t.cmpError?{language:o,response:t.cmpError,status:"error"}:"S"===t.compResult?{language:o,response:t.output,status:"noError"}:{language:o,response:t,status:"error"}})},704:function(e,t,n){},719:function(e,t,n){"use strict";n.d(t,"a",function(){return b});var o=n(0),a=n.n(o),r=n(1),c=n(182),l=n(230);var s=(e,t=!1)=>{function n(e){let t=document.createElement("script");t.type="text/javascript";let n=e.trim(),o=new RegExp(/\<script\>(.*)\<\/script\>/gis).exec(n);try{let e=`\n                try {\n                    ${o&&o.length&&o.length>1?o[1]:n}\n                }\n                catch(err) {\n                    console.log(err)\n                    document.getElementById("staticCodeOutputPre").innerHTML = err\n                }\n            `;t.appendChild(document.createTextNode(e))}catch(a){t.text=a}return t}const o=(e,t=!1)=>{try{let a;if(t){const e=(new DOMParser).parseFromString(t,"text/html");a=[...e.body.getElementsByTagName("script")],a=[...a,...e.head.getElementsByTagName("script")],t=e.body.childNodes,console.log(t)}let r=n(e);console.log(r);let c=function(){let e=document.createElement("script");e.type="text/javascript";try{e.appendChild(document.createTextNode('\n            try {\n                let counter = 0;\n                console.log = (function () {\n                    return function(exception) {\n                        if(typeof exception.stack !== "undefined") {\n                            document.getElementById("staticCodeOutputPre").innerHTML = exception\n                        }\n                        else {\n                            let output = "", arg, i;\n                            for (i = 0; i < arguments.length; i++) {\n                                arg = arguments[i];\n                                output += "<span>";\n                                if ( typeof arg === "object" && typeof JSON === "object" && typeof JSON.stringify === "function") {\n                                    output += JSON.stringify(arg) + "<br>";\n                                } else {\n                                    output += arg + "<br>";\n                                }\n                                output += "</span> ";\n                            }\n                            document.getElementById("consoleOutput").style.display = "block"\n                            let el = document.createElement(\'pre\')\n                            el.id = \'staticCodeOutputPre-\' + counter++\n                            el.innerHTML = output\n                            document.getElementById("staticCodeOutputPre").append(el)\n                        }\n                    }\n                })()\n            }\n            catch(err) {\n                document.getElementById("staticCodeOutputPre").innerHTML = err\n            }\n            try {\n                let docWriter = 0;\n                document.write = (code) => {\n                    let el = document.createElement(\'span\')\n                    el.id = \'docWriter-\' + docWriter++\n                    el.innerHTML = code\n                    document.getElementById("docWriter").append(el)\n                }\n            }\n            catch(err) {\n                document.getElementById("docWriter").innerHTML = err\n            }\n            window.onerror = function(error) {\n                console.log(error)\n            }\n        '))}catch(t){console.log("[Run JS failed] iFrame logger not working")}return e}(),l=document.createElement("iframe");l.id="jsFrame",document.getElementById("staticCodeOutputPre").innerHTML="",document.getElementById("staticCodeOutputPre").append(l),l.contentWindow.document.open(),l.contentWindow.document.write("<div></div>"),t&&NodeList.prototype.isPrototypeOf(t)&&Object.values(t).map(e=>{l.contentDocument.body.append(e)}),l.contentWindow.document.write('\n                <div id="docWriter"></div>\n                <div id="consoleOutput" style="display:none; margin-top: 12px; padding: 8px; background-color: #f2f2f2;"><div style="color:#32a16b; font-size: 24px;">Console Log: </div> </div>\n                <pre id="staticCodeOutputPre"></pre>\n            '),l.contentDocument.body.append(c),r&&l.contentDocument.body.append(r),a&&a.length&&a.forEach(e=>{let t=n(e.innerHTML);l.contentDocument.body.append(t)}),l.contentWindow.document.close()}catch(o){console.log("Error initializing JS compiler"),console.error(o)}};t?o("",e):o(e,t)},i=n(333),d=(n(183),n(184),n(161),n(186),n(202),n(203),n(307),n(308),n(309),n(310),n(311),n(312),n(210),n(211),n(313),n(314),n(315),n(316),n(317),n(318),n(319),n(320),n(321),n(704),n(327)),u=n(263),m=n.n(u),p=n(205),g=n(160),E=n(146);function b({onClose:e,onProceed:t,codeElements:n=[Object(l.b)()],activeIndex:r=0,runOnIDE:u="true"}){const{userRole:b}=Object(o.useContext)(g.a),[C,y]=Object(o.useState)(u),[h,f]=Object(o.useState)(n),[_,v]=Object(o.useState)(r),[O,w]=Object(o.useState)(!1),[k,M]=Object(o.useState)(!1),[N,j]=Object(o.useState)(""),[B,L]=Object(o.useState)(!1),[x,T]=Object(o.useState)(!1);Object(o.useEffect)(()=>{M(!1),L(!1)},[_]),Object(o.useEffect)(()=>{w(!1)},[h,_]);const P=e=>{const t=_,n=_+e;if(void 0!==h[t]&&void 0!==h[n]){let e=[...h];e[n]=e.splice(t,1,e[n])[0],f(e),v(n)}};return a.a.createElement(o.Fragment,null,a.a.createElement("div",{className:"CodeBlockModalContent-container"},a.a.createElement("div",{className:"CodeBlockModalContent__Header"},a.a.createElement("div",{disabled:B||x},a.a.createElement("button",{"data-position":"left",className:"icon-btn secondary-button",onClick:()=>{(()=>{let e=h.length;f([...h,Object(l.b)()]),v(e)})()}},a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#34385F",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},a.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),a.a.createElement("circle",{cx:"12",cy:"12",r:"9"}),a.a.createElement("line",{x1:"9",y1:"12",x2:"15",y2:"12"}),a.a.createElement("line",{x1:"12",y1:"9",x2:"12",y2:"15"})),a.a.createElement("span",null,"Add Another Language"))),a.a.createElement("div",null,a.a.createElement("input",{type:"checkbox",checked:"true"===C,onChange:()=>{y("true"===C?"false":"true")}}),a.a.createElement("label",null,"Enable Run On Ide"))),a.a.createElement("div",{className:"CodeBlockModalContent__Main"},a.a.createElement("div",{className:"CodeBlockModalContent__Main__Leftbar"},h.map(({language:e},t)=>a.a.createElement("div",{key:t,className:t===_?"selected":"",onClick:()=>{v(t)},disabled:B||x},b==E.d[E.a.WRITE].CONTRIBUTOR?`Code ${t+1} Language : ${e}`:a.a.createElement("input",{type:"text",value:e,onChange:e=>{(e=>{let t=[...h];t[_].language=e,f(t)})(e.target.value)},onBlur:()=>{(e=>{let t=[...h];t[e]=Object(p.d)(t[e]),f(t)})(t)}})))),a.a.createElement("div",{className:"CodeBlockModalContent__Main__Rightbar"},a.a.createElement("div",{className:"CodeBlockModalContent__Main__Rightbar__Header",disabled:B||x},a.a.createElement("div",null,a.a.createElement("select",{onChange:e=>{const t=e.target.value.toLocaleLowerCase();if(h[_].codeLanguage.toLowerCase()!==t){let t=[...h];t[_]=Object(l.b)(e.target.value),f(t)}}},Object(l.d)().map(e=>a.a.createElement("option",{key:e.key,value:e.value,selected:h[_].codeLanguage.toLowerCase()===e.value.toLocaleLowerCase()},e.text)))),Object(l.f)(h[_].codeLanguage)&&a.a.createElement("button",{onClick:async()=>{L(!0);const{response:e}=await Object(i.a)(h[_]),t=document.getElementsByClassName("CodeBlockModalContent__Footer")[0];t&&(L(!1),M(!0),j(e),t.scrollIntoView({behavior:"smooth"}))}},"Run"),Object(l.g)(h[_].codeLanguage)&&a.a.createElement("button",{onClick:()=>{w(!0),s(h[_].codeSnippet,["html","css"].includes(h[_].codeLanguage))}},"Try It"),Object(l.e)(h[_].codeLanguage)&&a.a.createElement("button",{onClick:async()=>{T(!0);const{codeElements:e}=await Object(d.a)([h[_]]);if(e){const t=[...h];t[_].codeSnippet=e[0].codeSnippet,f(t)}else m.a.fire({icon:"error",title:"Oops...",text:"Something went wrong while formatting your code",footer:"Please Try Again!"});T(!1)}},"Format"),a.a.createElement("button",{className:"CodeBlockModalContent__Main__Rightbar__Header__RemoveButton",disabled:h.length<2,onClick:()=>{(()=>{if(_>=0&&_<h.length){const e=[...h];e.splice(_,1),_===h.length-1&&v(_-1),f(e)}})()}},"Remove"),a.a.createElement("button",{className:"CodeBlockModalContent__Main__Rightbar__Header__MoveUpButton",disabled:_<1,onClick:()=>{P(-1)}},a.a.createElement("i",{className:"editor-icon arrow-up"})),a.a.createElement("button",{className:"CodeBlockModalContent__Main__Rightbar__Header__MoveDownButton",disabled:_>=h.length-1,onClick:()=>{P(1)}},a.a.createElement("i",{className:"editor-icon arrow-down"}))),a.a.createElement(c.Controlled,{value:h[_].codeSnippet,options:{theme:"monokai",mode:Object(l.a)(h[_].codeLanguage),lineNumbers:!0},onBeforeChange:(e,t,n)=>{let o=[...h];o[_].codeSnippet=n,f(o)},onChange:(e,t,n)=>{}}),a.a.createElement("div",{className:"CodeBlockModalContent__Main__Rightbar__Footer"},a.a.createElement("div",{style:{display:O?"block":"none"},id:"staticCodeOutputPre"}),!B&&k&&(N?a.a.createElement("pre",null,N):a.a.createElement("p",{className:"error"},"No Ouput Generated")),B&&a.a.createElement("pre",null,"Compiling..."))))),a.a.createElement("div",{className:"CodeBlockModalContent__Footer"},a.a.createElement("button",{className:"primary-button primary-button__sm",onClick:()=>{t({codeElements:h,runOnIDE:C}),e()}},"Proceed")))}b.propTypes={activeIndex:r.PropTypes.number,onClose:r.PropTypes.func,onProceed:r.PropTypes.func,codeElements:r.PropTypes.array,runOnIDE:r.PropTypes.string}}}]);