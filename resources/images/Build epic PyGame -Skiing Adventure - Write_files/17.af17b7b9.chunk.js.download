(window.webpackJsonp=window.webpackJsonp||[]).push([[17,46],{291:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return r});var o=n(0),a=n.n(o);function r(){return a.a.createElement("div",{className:"divider"})}},333:function(e,t,n){"use strict";var o=n(146),a=n(230),r=n(31),c=n.n(r);const l=o.c.IDE_URL;function s(e){return new Promise(t=>setTimeout(t,e))}t.a=(async e=>{let t;try{if("ERROR"===(t=(t=await c.a.post(`${l}submit-request`,{language:Object(a.c)(e.codeLanguage),code:e.codeSnippet,input:"",save:!1},{withCredentials:!1})).data).status)throw Error(t.message)}catch(r){return{response:(t=r.response)&&t.data.message||r.message,language:e.language,status:"error"}}const{submission_id:n}=t;do{await s(3e3);try{t=await c.a.get(`${l}get-status/${n}`,{withCredentials:!1})}catch(r){return{response:r.message,language:e.language,status:"error"}}t=t.data}while(["IN-QUEUE","in-queue"].includes(t.status));const o=e.language;return""!==t.rntError&&null!=t.rntError?{language:o,response:t.rntError,status:"error"}:""!==t.cmpError&&null!=t.cmpError?{language:o,response:t.cmpError,status:"error"}:"S"===t.compResult?{language:o,response:t.output,status:"noError"}:{language:o,response:t,status:"error"}})},704:function(e,t,n){},717:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return y});var o=n(0),a=n.n(o),r=n(1),c=n.n(r),l=n(127),s=n(126),d=n(204),i=n(118),u=n(205),m=n(176),p=n(719),g=n(287),E=n(294),b=n(291);function C({showAddEditCodeModalHandler:e,isHidden:t,plugins:n,selectedCodeBlockNodeKey:r}){const c=n.components.length;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:`toolbar floating ${t?"hidden":""}`},n.components.map((t,n)=>a.a.createElement(o.Suspense,{key:n,fallback:""},a.a.createElement(t.component,{showAddEditCodeModalHandler:e,selectedCodeBlockNodeKey:r}),n<c-1&&a.a.createElement(b.default,null))),a.a.createElement("div",{className:"triangle-down"})))}function y({nodeKey:e,runOnIDE:t,codeElements:n}){const{editor:r}=Object(o.useContext)(l.a),c=Object(o.useRef)(null),b=Object(o.useRef)([]),y=Object(o.useRef)([]),[O,f,_]=Object(d.useLexicalNodeSelection)(e),[h,v]=Object(m.a)(),N=Object(g.a)({view:2,plugin:E.a.CODEBLOCK.components[0].name})>0,j=Object(o.useCallback)(t=>(O&&Object(i.$isNodeSelection)(Object(i.$getSelection)())&&(t.preventDefault(),r.update(()=>{const t=Object(i.$getNodeByKey)(e);Object(u.b)(t)&&t.remove(),f(!1)})),!1),[r,O,e,f]),w=Object(o.useCallback)(e=>{const t=Object(i.$getSelection)();if(O&&Object(i.$isNodeSelection)(t)&&1===t.getNodes().length){e.preventDefault();const n=t.getNodes()[0];if(Object(u.b)(n)){const e=Object(i.$createParagraphNode)();return n.insertAfter(e),e.select(),!0}}return!1},[O]),M=()=>{const o=(()=>{const e=b.current.querySelectorAll("gfg-tab");let t=0;return e.forEach((e,n)=>{"0"===e.getAttribute("tabindex")&&(t=n)}),t})();v({contentFn:c=>a.a.createElement(p.a,{codeElements:n,activeIndex:o,runOnIDE:t,onClose:c,onProceed:t=>{r.update(()=>{const n=Object(i.$getNodeByKey)(e),o=Object(u.a)(t);n&&o&&n.replace(o)})}}),size:"lg",isFloatingClose:!0})};return Object(o.useEffect)(()=>Object(s.mergeRegister)(r.registerCommand(i.CLICK_COMMAND,e=>{const t=e.target;return!!c.current.contains(t)&&(e.shiftKey||_(),f(!0),e.detail>1&&N&&M(),!0)},i.COMMAND_PRIORITY_HIGH),r.registerCommand(i.KEY_DELETE_COMMAND,j,i.COMMAND_PRIORITY_LOW),r.registerCommand(i.KEY_BACKSPACE_COMMAND,j,i.COMMAND_PRIORITY_LOW),r.registerCommand(i.KEY_ENTER_COMMAND,w,i.COMMAND_PRIORITY_LOW)),[_,r,O,j,f,w]),a.a.createElement(a.a.Fragment,null,N&&a.a.createElement(C,{isHidden:!O,showAddEditCodeModalHandler:M,selectedCodeBlockNodeKey:e,plugins:E.a.CODEBLOCK}),a.a.createElement("div",{ref:c,style:{outline:O?"3px solid blue":"2px solid #f3f3f3"}},n.length>0&&a.a.createElement("gfg-tabs",{"data-run-ide":t,ref:b,class:O?"selected":""},n.map((e,t)=>a.a.createElement(o.Fragment,{key:t},a.a.createElement("gfg-tab",{role:"tab",slot:"tab",id:"gfg-tab-"+t,key:"gfg-tab-"+t},e.language),a.a.createElement("gfg-panel",{role:"tabpanel",slot:"panel",id:"gfg-panel-"+t,"data-code-lang":e.codeLanguage,key:"gfg-panel-"+t},a.a.createElement("pre",{ref:e=>{y.current[t]=e}},e.codeSnippet)))))),h)}C.propTypes={showAddEditCodeModalHandler:c.a.func,isHidden:c.a.bool,plugins:c.a.object,selectedCodeBlockNodeKey:c.a.string},y.propTypes={nodeKey:r.PropTypes.string,runOnIDE:r.PropTypes.string,codeElements:r.PropTypes.array}},719:function(e,t,n){"use strict";n.d(t,"a",function(){return b});var o=n(0),a=n.n(o),r=n(1),c=n(182),l=n(230);var s=(e,t=!1)=>{function n(e){let t=document.createElement("script");t.type="text/javascript";let n=e.trim(),o=new RegExp(/\<script\>(.*)\<\/script\>/gis).exec(n);try{let e=`\n                try {\n                    ${o&&o.length&&o.length>1?o[1]:n}\n                }\n                catch(err) {\n                    console.log(err)\n                    document.getElementById("staticCodeOutputPre").innerHTML = err\n                }\n            `;t.appendChild(document.createTextNode(e))}catch(a){t.text=a}return t}const o=(e,t=!1)=>{try{let a;if(t){const e=(new DOMParser).parseFromString(t,"text/html");a=[...e.body.getElementsByTagName("script")],a=[...a,...e.head.getElementsByTagName("script")],t=e.body.childNodes,console.log(t)}let r=n(e);console.log(r);let c=function(){let e=document.createElement("script");e.type="text/javascript";try{e.appendChild(document.createTextNode('\n            try {\n                let counter = 0;\n                console.log = (function () {\n                    return function(exception) {\n                        if(typeof exception.stack !== "undefined") {\n                            document.getElementById("staticCodeOutputPre").innerHTML = exception\n                        }\n                        else {\n                            let output = "", arg, i;\n                            for (i = 0; i < arguments.length; i++) {\n                                arg = arguments[i];\n                                output += "<span>";\n                                if ( typeof arg === "object" && typeof JSON === "object" && typeof JSON.stringify === "function") {\n                                    output += JSON.stringify(arg) + "<br>";\n                                } else {\n                                    output += arg + "<br>";\n                                }\n                                output += "</span> ";\n                            }\n                            document.getElementById("consoleOutput").style.display = "block"\n                            let el = document.createElement(\'pre\')\n                            el.id = \'staticCodeOutputPre-\' + counter++\n                            el.innerHTML = output\n                            document.getElementById("staticCodeOutputPre").append(el)\n                        }\n                    }\n                })()\n            }\n            catch(err) {\n                document.getElementById("staticCodeOutputPre").innerHTML = err\n            }\n            try {\n                let docWriter = 0;\n                document.write = (code) => {\n                    let el = document.createElement(\'span\')\n                    el.id = \'docWriter-\' + docWriter++\n                    el.innerHTML = code\n                    document.getElementById("docWriter").append(el)\n                }\n            }\n            catch(err) {\n                document.getElementById("docWriter").innerHTML = err\n            }\n            window.onerror = function(error) {\n                console.log(error)\n            }\n        '))}catch(t){console.log("[Run JS failed] iFrame logger not working")}return e}(),l=document.createElement("iframe");l.id="jsFrame",document.getElementById("staticCodeOutputPre").innerHTML="",document.getElementById("staticCodeOutputPre").append(l),l.contentWindow.document.open(),l.contentWindow.document.write("<div></div>"),t&&NodeList.prototype.isPrototypeOf(t)&&Object.values(t).map(e=>{l.contentDocument.body.append(e)}),l.contentWindow.document.write('\n                <div id="docWriter"></div>\n                <div id="consoleOutput" style="display:none; margin-top: 12px; padding: 8px; background-color: #f2f2f2;"><div style="color:#32a16b; font-size: 24px;">Console Log: </div> </div>\n                <pre id="staticCodeOutputPre"></pre>\n            '),l.contentDocument.body.append(c),r&&l.contentDocument.body.append(r),a&&a.length&&a.forEach(e=>{let t=n(e.innerHTML);l.contentDocument.body.append(t)}),l.contentWindow.document.close()}catch(o){console.log("Error initializing JS compiler"),console.error(o)}};t?o("",e):o(e,t)},d=n(333),i=(n(183),n(184),n(161),n(186),n(202),n(203),n(307),n(308),n(309),n(310),n(311),n(312),n(210),n(211),n(313),n(314),n(315),n(316),n(317),n(318),n(319),n(320),n(321),n(704),n(327)),u=n(263),m=n.n(u),p=n(205),g=n(160),E=n(146);function b({onClose:e,onProceed:t,codeElements:n=[Object(l.b)()],activeIndex:r=0,runOnIDE:u="true"}){const{userRole:b}=Object(o.useContext)(g.a),[C,y]=Object(o.useState)(u),[O,f]=Object(o.useState)(n),[_,h]=Object(o.useState)(r),[v,N]=Object(o.useState)(!1),[j,w]=Object(o.useState)(!1),[M,k]=Object(o.useState)(""),[B,L]=Object(o.useState)(!1),[I,T]=Object(o.useState)(!1);Object(o.useEffect)(()=>{w(!1),L(!1)},[_]),Object(o.useEffect)(()=>{N(!1)},[O,_]);const x=e=>{const t=_,n=_+e;if(void 0!==O[t]&&void 0!==O[n]){let e=[...O];e[n]=e.splice(t,1,e[n])[0],f(e),h(n)}};return a.a.createElement(o.Fragment,null,a.a.createElement("div",{className:"CodeBlockModalContent-container"},a.a.createElement("div",{className:"CodeBlockModalContent__Header"},a.a.createElement("div",{disabled:B||I},a.a.createElement("button",{"data-position":"left",className:"icon-btn secondary-button",onClick:()=>{(()=>{let e=O.length;f([...O,Object(l.b)()]),h(e)})()}},a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#34385F",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},a.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),a.a.createElement("circle",{cx:"12",cy:"12",r:"9"}),a.a.createElement("line",{x1:"9",y1:"12",x2:"15",y2:"12"}),a.a.createElement("line",{x1:"12",y1:"9",x2:"12",y2:"15"})),a.a.createElement("span",null,"Add Another Language"))),a.a.createElement("div",null,a.a.createElement("input",{type:"checkbox",checked:"true"===C,onChange:()=>{y("true"===C?"false":"true")}}),a.a.createElement("label",null,"Enable Run On Ide"))),a.a.createElement("div",{className:"CodeBlockModalContent__Main"},a.a.createElement("div",{className:"CodeBlockModalContent__Main__Leftbar"},O.map(({language:e},t)=>a.a.createElement("div",{key:t,className:t===_?"selected":"",onClick:()=>{h(t)},disabled:B||I},b==E.d[E.a.WRITE].CONTRIBUTOR?`Code ${t+1} Language : ${e}`:a.a.createElement("input",{type:"text",value:e,onChange:e=>{(e=>{let t=[...O];t[_].language=e,f(t)})(e.target.value)},onBlur:()=>{(e=>{let t=[...O];t[e]=Object(p.d)(t[e]),f(t)})(t)}})))),a.a.createElement("div",{className:"CodeBlockModalContent__Main__Rightbar"},a.a.createElement("div",{className:"CodeBlockModalContent__Main__Rightbar__Header",disabled:B||I},a.a.createElement("div",null,a.a.createElement("select",{onChange:e=>{const t=e.target.value.toLocaleLowerCase();if(O[_].codeLanguage.toLowerCase()!==t){let t=[...O];t[_]=Object(l.b)(e.target.value),f(t)}}},Object(l.d)().map(e=>a.a.createElement("option",{key:e.key,value:e.value,selected:O[_].codeLanguage.toLowerCase()===e.value.toLocaleLowerCase()},e.text)))),Object(l.f)(O[_].codeLanguage)&&a.a.createElement("button",{onClick:async()=>{L(!0);const{response:e}=await Object(d.a)(O[_]),t=document.getElementsByClassName("CodeBlockModalContent__Footer")[0];t&&(L(!1),w(!0),k(e),t.scrollIntoView({behavior:"smooth"}))}},"Run"),Object(l.g)(O[_].codeLanguage)&&a.a.createElement("button",{onClick:()=>{N(!0),s(O[_].codeSnippet,["html","css"].includes(O[_].codeLanguage))}},"Try It"),Object(l.e)(O[_].codeLanguage)&&a.a.createElement("button",{onClick:async()=>{T(!0);const{codeElements:e}=await Object(i.a)([O[_]]);if(e){const t=[...O];t[_].codeSnippet=e[0].codeSnippet,f(t)}else m.a.fire({icon:"error",title:"Oops...",text:"Something went wrong while formatting your code",footer:"Please Try Again!"});T(!1)}},"Format"),a.a.createElement("button",{className:"CodeBlockModalContent__Main__Rightbar__Header__RemoveButton",disabled:O.length<2,onClick:()=>{(()=>{if(_>=0&&_<O.length){const e=[...O];e.splice(_,1),_===O.length-1&&h(_-1),f(e)}})()}},"Remove"),a.a.createElement("button",{className:"CodeBlockModalContent__Main__Rightbar__Header__MoveUpButton",disabled:_<1,onClick:()=>{x(-1)}},a.a.createElement("i",{className:"editor-icon arrow-up"})),a.a.createElement("button",{className:"CodeBlockModalContent__Main__Rightbar__Header__MoveDownButton",disabled:_>=O.length-1,onClick:()=>{x(1)}},a.a.createElement("i",{className:"editor-icon arrow-down"}))),a.a.createElement(c.Controlled,{value:O[_].codeSnippet,options:{theme:"monokai",mode:Object(l.a)(O[_].codeLanguage),lineNumbers:!0},onBeforeChange:(e,t,n)=>{let o=[...O];o[_].codeSnippet=n,f(o)},onChange:(e,t,n)=>{}}),a.a.createElement("div",{className:"CodeBlockModalContent__Main__Rightbar__Footer"},a.a.createElement("div",{style:{display:v?"block":"none"},id:"staticCodeOutputPre"}),!B&&j&&(M?a.a.createElement("pre",null,M):a.a.createElement("p",{className:"error"},"No Ouput Generated")),B&&a.a.createElement("pre",null,"Compiling..."))))),a.a.createElement("div",{className:"CodeBlockModalContent__Footer"},a.a.createElement("button",{className:"primary-button primary-button__sm",onClick:()=>{t({codeElements:O,runOnIDE:C}),e()}},"Proceed")))}b.propTypes={activeIndex:r.PropTypes.number,onClose:r.PropTypes.func,onProceed:r.PropTypes.func,codeElements:r.PropTypes.array,runOnIDE:r.PropTypes.string}}}]);